# 1. 关于project评分与提交

```1.1 是否有bonus？总分多少？```

有。bonus 10分，总分110。

```1.2 bonus如何评分？```

不设硬性标准，鼓励百花齐放，你可以在项目的任何地方去做设计，任课老师和学助会根据大家的报告和汇报情况加分。因此你的独特设计请务必在报告和汇报时说明。

```1.3 如果代码跑不通怎么评分？```

只要提交代码，看到一定的工作量就会有相应的分数。但希望大家能先把测试流程跑通再去逐渐添加实现模块。

```1.4 报告（report）中包含哪些内容？```

报告书写内容和此次项目说明中的结构类似。注意需着重说明数据库设计，具体java代码实现可相应弱化。

```1.5 答辩在什么时候？```

答辩安排在12.26~27，具体时间请以小组为单位在腾讯文档中选择时间（https://docs.qq.com/sheet/DYURTQXRTdmJXZFdX?tab=BB08J2）

# 2. 关于project judge

```2.1 本地数据样例弱吗？最终自动化测试数据会强于本地数据样例？```

原本设计是最终测试数据会强一点，但不会强太多。基于目前疫情的情况最终数据是否会比测试数据强，不确定。

```2.2 为什么我把给的源码按要求打包之后idea会报错说record应该是类或者接口？```

当前java版本不支持此数据类型，需要java 16及以上。

```2.2 可以问一下第一次project写的东西对这一次的project有什么帮助吗？比如连接数据库需要用到的代码之类的？```

整体框架是一致的，可以复用。需要根据project2的接口对建表和导入数据格式做些许调整。

```2.3 税率的查询判断大概精确到几位？```

大概千分之一，可以覆盖double的精度，同学们不用太担心自己的数值会精度有问题。



# 3. 关于GUI

```3.1 一定要网络吗，本地GUI可以吗？```

可以。本次project并不着重考察GUI，占的分值也是偏少的，本地、网络都可以。希望大家能优先完成接口的实现，在学有余力的情况再来考虑这部分。不强制要求大家做出一个界面，只需要前后端交互，用任何协议或任何语言都可以。

# 4. 关于权限管理

```4.1 权限管理的功能会如何考察？```

最终对权限的考察和里对权限的考察是类似的。大家需要对文档中2.2中四个权限进行区分，简单的来说有权限的用户调用接口可以执行，无权限的用户调用接口则是非法操作。

```4.2 权限管理是要创四个角色，然后赋予权限，然后每次调用方法时登录相应的用户吗（之前一直使用root用户然后自己代码判断用户权限？Project的要求是利用数据库本身的用户权限管理，还是说我们通过自己的方法去实现权限管理？Staff的权限是advance task中的要求吗？因为需要登录不同的账户，每次方法访问都需要重新建立数据库链接？是应该把staff表存在数据库里，然后每次操作请求都用root用户去数据库里查询该用户的权限，再建立对应权限的链接进行操作吗？初始化数据库的时候除了建表还要建那4种用户并授予权限吗？不能用root吧？那如果不用root用户的话，我怎么去数据库里的staff表查询当前用户属于哪一类呢？权限设计里一定要用view吗？local judge似乎没有检测是否有创建4个权限用户吧，每次跑local judge是否需要自己手动删除用户？还是说代码里需要包含删除？……```

以上的问题都是同学们问的关于权限的具体实现方法，在这里我们只提供基本的导向：尽量用数据库自己的权限设置来管理权限，毕竟这门课程是考查数据库设计的。但最终测试的时候只调用接口，的确没办法考察到各位同学究竟在哪里实现了权限管理。因此各位同学可以各显神通，根据自己能时间和精力选择合适手段。实现部分在15周线上答疑时涉及了一些，可以去扒视频。

```4.3 SUSTC manager的getStaffInfo方法返回值包括密码吗？```

是的，目前是这样简单处理的。

# 5. 关于状态说明

```5.1 空船能start sailing吗？请问空集装箱可以上船吗？```

均不能。本着最小实现的原则，一般不会维护一个没有意义的空数据。

```5.2 添加的记录中会有records里未出现container、courier、ship 吗？```

container和ship不可能，courier可能出现在`staffs.csv`中出现但是`records.csv`未出现的。

```5.3 unloaditem意味着该船的状态会从sailing变为not sailing吗？```

不。船到途径点卸货并不意味着它不继续航行运输。

```5.4 船的sailing什么时候 变为false的？ship什么时候靠岸呢？```

可以理解为船上最后一件货物卸完后就变为false。在此次project中我们并没有直接的标明船的状态是否是sailing，但是可以通过查询来间接确定。比如，当我们查询到了一个物品item，发现它在船上，并且它的状态时shipping，那么这艘船的状态就是sailing；同理我们去查询集装箱container，发现它目前是我们标明的四个状态之一，就可以判断集装箱是在使用中using。船是否靠岸也可以通过查询船上item状态来间接了解。

```5.5 请问setItemState可以从From-Import Transporting直接设置到Finish吗？```

流程是严格按照文档中的图中箭头来转移，状态不能够跳跃。

```5.6 如果在loadItemToContainer加入了一个原本不存在的container，那怎么确定container type```

不会加入不存在的container和ship。

```5.7 loadcontainertoship是否需要判断船属于该公司```

需要。

```5.8 delivery courier也一定要是该公司的courier吗？```

是的，courier是需要属于公司的。

```5.9 执行newItem方法，新建快递条目时，需要满足的条件吗？ newItem那里的非法状态是指哪些？（题目里说这个new item是刚刚被picked up的）```

首先当前item state应该为null，执行new item操作之后，item的状态是picking up。此外需要检查的是登录的这位快递员是否在这个城市里，还需要查看import tax和export tax跟城市有没有对上。

```5.10 不用考虑这个快递员有没有在干其他项目吗```

不考虑。

```5.11 物品塞进的集装箱具有type，这跟item的class有关系吗？```

各自维护各自状态，没有关系。

```5.12 如果调用两次loadItemToContainer方法，也就是先把物品放到集装箱a，又把它从a拿到集装箱b，那么这两个集装箱的type可以任选是嘛？```

在测试中没有涉及这部分。

```5.13 请问unloadItem方法是最多涉及一个item状态的改变吧，不会牵连别的item？```

不会牵扯到别的item。

```5.14 unloadItem是不是将要将数据库里item对应的Shipping状态改成UnpackingFromContainer就行了?```

这一点是必须要改的，此外一些其它关联的地方（和同学们数据库设计有关）也需要改。

```5.15 也就是说船上有shipping状态的货物时，依然有item可以upload到这艘船？```

这一点目前在测试中是不允许的。